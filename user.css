/* =============================== CYBERNIGHT – EDGERUNNERS GLASS (fond ultra-visible – ajusté février 2026) =============================== */

:root {
    --glass-bg: rgba(8, 18, 32, 0.20);
    --glass-strong: rgba(8, 18, 32, 0.28);
    --cyan: #00F0FF;
    --sandevistan: #00FF9C;
    --text-main: #E6F1FF;
    --text-soft: #9FB3C8;

    --image_url: url("https://github.com/me974974/CyberNight/blob/main/assets/nightcity.png?raw=true");
}


.Root__top-container {
    position: relative;
    background-color: transparent !important;
    overflow: hidden;
}

/* Calque 1 : fond fixe par défaut (Night City) */
.Root__top-container::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("https://github.com/me974974/CyberNight/blob/main/assets/nightcity.png?raw=true");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    z-index: -2;
    opacity: 1;
    transition: opacity 1.8s ease-in-out;
    will-change: opacity;
}

/* Calque 2 : fond dynamique (change avec --image_url) */
.Root__top-container::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--image_url);
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: fixed;
    z-index: -1;
    opacity: 0;                              /* invisible au départ */
    transition: opacity 1.8s ease-in-out;
    will-change: opacity;
}

/* Quand une chanson spéciale est jouée → on affiche le calque dynamique */
.Root__top-container.has-custom-track-bg::after {
    opacity: 1;
}

/* Quand on revient au défaut → on cache le calque dynamique */
.Root__top-container:not(.has-custom-track-bg)::after {
    opacity: 0;
}


* {
    --spice-main-elevated: rgba(0, 0, 0, 0.4)
}
.Root__top-container:has(#VideoPlayerCinema_ReactPortal) {
    padding: 0;
}

/* Do not display background elements when fullscreen lyrics */
#main:has(#VideoPlayerCinema_ReactPortal) {

    & .Root__main-view,
    .Root__right-sidebar,
    .Root__nav-bar {
        display: none !important;
    }

    /* .Root__globalNav { background: black !important; } */
}

/* Do not display main view when expanded library */
#main:has(.main-yourLibraryX-libraryRootlist > * > ul[role="treegrid"]) .Root__main-view {
    display: none !important;
}

:has([data-overlayscrollbars-initialize="true"]):has(#VideoPlayerCinema_ReactPortal) {
    outline: none !important;
}

.progress-bar__slider {

    background-color: transparent !important;
    background-image: url("https://github.com/me974974/CyberNight/blob/main/assets/david.png?raw=true");
    background-size: cover;
    height: 30px;
    width: 20px;
    box-shadow: none;
    display: flex;
}

.xwmHcoGFMXA0G2iBT3jO {
    background-color: transparent !important;
}


.encore-dark-theme .encore-bright-accent-set {
    background-color: #00466ed9 !important;
}

.x-progressBar-fillColor {
    background-image: linear-gradient(90deg,
            #ffe30f 0%,
            #ffea4d 12%,
            /* léger adoucissement jaune */
            #00466ed9 38%,
            #002b55d9 62%,
            #001932d9 82%,
            #001932cc 90%,
            /* transparence très légère pour fondre */
            #ffe30f 100%) !important;

    background-size: 300% 100%;
    /* ← on passe à 300% pour plus d'espace */
    animation: cyberMove 9s linear infinite;
}

@keyframes cyberMove {
    0% {
        background-position: 0% 0;
    }

    100% {
        background-position: 300% 0;
    }
}

.main-topBar-background {
    background: linear-gradient(90deg,
            rgba(0, 25, 50, 0.85),
            rgba(0, 70, 110, 0.85)) !important;

    backdrop-filter: blur(14px);
    border-bottom: 1px solid rgba(0, 240, 255, 0.25);
}

/* .os-scrollbar-handle {
    background: linear-gradient(
        to bottom,
        #00ff9c,
        #00f0ff
    );
    border-radius: 10px;
    box-shadow: 0 0 8px rgba(0,255,156,0.6);
} */

/* Glows cyber */
.cyber-smart svg,
button[aria-checked="true"] svg,
button[aria-checked="mixed"] svg,
button[aria-pressed="true"] svg,
button[data-active="true"] svg,
button.transfrom_this_shit_gng svg,
#SpicyLyricsPageSvg {
    fill: var(--cyan) !important;
    filter: drop-shadow(0 0 10px #00FF9C) drop-shadow(0 0 4px #00F0FF);
}

button.scale_it_bro svg {
    scale: 2;
}

.main-genericButton-button.main-genericButton-buttonActiveDot:after,
.Button-buttonTertiary-textBrightAccent-small-iconOnly-useBrowserDefaultFocusStyle:after,
.EIFdvMxVD8zJO_zaZubt:before,
.x_I4_QDM5MZhGKhtI6fb:after,
.StyledTabItem-tab-tabItem-useBrowserDefaultFocusStyle[aria-selected="true"]::before {
    background-color: var(--cyan) !important;
}

.eYJgrgW01l7dHKuMJidG,
.ListRowText-bodyMedium-textBase-listRowTitle-useBrowserDefaultFocusStyle {
    color: var(--text-soft) !important;
}

.encore-internal-color-text-bright-accent {
    color: var(--sandevistan) !important;
}

/* Global */
.Root__globalNav,
/* Top bar */
.Root__nav-bar,
.main-entityHeader-container>*,
.playlist-playlist-playlistContent,
/* Playlist colored background */
.main-entityHeader-backgroundColor,
.playlist-playlist-actionBarBackground-background,
.main-actionBarBackground-background,
.Root__now-playing-bar>button,
.lyrics-lyrics-background,
.main-view-container__scroll-node-child>main>section>div>div:nth-child(2),
.Bdcf5g__Rug3TGqSdbiy,
.Root__now-playing-bar,
/* Sidebar left your library */
#Desktop_LeftSidebar_Id,
.YourLibraryX,
#Desktop_PanelContainer_Id::before,
.main-home-homeHeader,
.main-view-container__scroll-node-child>*>*,
.artist-artistDiscography-headerContainer,
.main-view-container__scroll-node-child>main>section>div:last-child,
.search-searchCategory-contentArea::after,
.main-nowPlayingView-contextItemInfo::before,
.Box-group-naked-listRow-isInteractive-hasLeadingOrMedia-draggable-minBlockSize_56px,
/* Artist page colored background */
.main-view-container .before-scroll-node>*>:last-child,
.main-view-container .before-scroll-node>*>:last-child:after,
/* Fullscreen artist page on playing music */
/* [data-overlayscrollbars-viewport="scrollbarHidden overflowXHidden overflowYScroll"]>*>*>*>*>*:first-child, */
/* Right sidebar for queue */
.Root__right-sidebar>*,
/* Fullscreen lyrics */
[data-overlayscrollbars-initialize="true"]:has(#VideoPlayerCinema_ReactPortal),
.lyrics-lyrics-container:first-child,
:has(+.lyrics-lyrics-container),
/* Spicetify marketplace */
.marketplace-header

/* Remove bg */
    {
    background-color: transparent !important;
    background-image: none !important;
}

.view-homeShortcutsGrid-shortcut,
#Desktop_PanelContainer_Id,
/* Sidebar left your library */
.Root__main-view,
.main-yourLibraryX-library,
/* Filter tags */
.ChipInnerComponent-sm {
    background-color: var(--spice-main-elevated) !important;
}

/* Artist page gradient image */
.main-view-container .before-scroll-node>*>:first-child {
    mask-image: linear-gradient(to bottom, rgb(0, 0, 0) 90%, rgba(0, 0, 0, 0));
    position: absolute;
}

#Desktop_PanelContainer_Id {
    border-radius: 8px;
}

/* Rotate cat paw previous and next buttons */
[data-testid="control-button-skip-forward"] {
    scale: 2;
}

[data-testid="control-button-skip-back"] {
    rotate: 180deg;
    scale: 2;
}

.encore-dark-theme .encore-inverted-light-set {
    --text-base: var(--cyan) !important;
    background-color: transparent !important;
    scale: 2;
}

svg path {
  fill-rule: evenodd !important;
}

button[aria-label="Ajouter à la playlist"],
button[aria-label="Add to playlist"] {
    scale: 2;
}

[data-testid="now-playing-widget"] > * > *:not([role="switch"]):not([aria-label="Ajouter à la playlist"]):not([aria-label="Add to playlist"]) svg, 
.main-trackList-rowSectionEnd > *:not([role="switch"]):not([aria-label="Ajouter à la playlist"]):not([aria-label="Add to playlist"]) svg, 
.Button-buttonTertiary-textBrightAccent-medium-iconOnly-useBrowserDefaultFocusStyle-condensed:not([aria-label="Ajouter à la playlist"]):not([aria-label="Add to playlist"]) svg, 
.main-nowPlayingView-contextItemInfo [aria-checked="false"]:not([role="switch"]):not([aria-label="Ajouter à la playlist"]):not([aria-label="Add to playlist"]) svg,
button[aria-label*="options"] svg {
    fill: var(--cyan) !important;
    filter: drop-shadow(0 0 10px #00FF9C) drop-shadow(0 0 4px #00F0FF);
    scale: 1.5;
}

[data-testid="control-button-repeat"] {
    scale: 1.7;
}

/* button[data-testid="control-button-playpause"]:hover {
    box-shadow: 0 0 24px var(--cyan), 0 0 48px rgba(0, 240, 255, 0.7);
} */